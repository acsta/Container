# UISuccessAuction.cs - ç«æ‹æˆåŠŸåŠ¨ç”»

## ğŸ“„ æ–‡ä»¶ä¿¡æ¯

| å±æ€§ | å€¼ |
|------|------|
| æ–‡ä»¶è·¯å¾„ | `Assets/Scripts/Code/Game/UIGame/UIAuction/UISuccessAuction.cs` |
| å‘½åç©ºé—´ | `TaoTie` |
| åŸºç±» | `UIBaseView` |
| å®ç°æ¥å£ | `IOnCreate`, `IOnEnable`, `IOnDisable`, `IOnWidthPaddingChange` |

---

## ğŸ¯ ç±»è¯´æ˜

`UISuccessAuction` æ˜¯ç«æ‹æˆåŠŸåŠ¨ç”»ç»„ä»¶ï¼Œå½“ç©å®¶ç«æ‹æˆåŠŸæ—¶æ’­æ”¾"ç«æ‹æˆåŠŸ"æ–‡å­—çš„é€å­—æ˜¾ç¤ºå’Œæ¶ˆå¤±åŠ¨ç”»ã€‚

### æ ¸å¿ƒèŒè´£

- **æ–‡å­—åŠ¨ç”»**: é€å­—æ˜¾ç¤º"ç«æ‹æˆåŠŸ"æ–‡æœ¬
- **è‡ªåŠ¨å…³é—­**: åŠ¨ç”»æ’­æ”¾å®Œæˆåè‡ªåŠ¨å…³é—­çª—å£
- **ç®€æ´æç¤º**: æä¾›ç®€æ´çš„ç«æ‹æˆåŠŸåé¦ˆ

---

## ğŸ“‹ å­—æ®µè¯´æ˜

### UI ç»„ä»¶å­—æ®µ

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `_animator` | `UIAnimator` | çª—å£åŠ¨ç”»æ§åˆ¶å™¨ |
| `_textmesh` | `UITextmesh` | "ç«æ‹æˆåŠŸ"æ–‡æœ¬ |

### å¸¸é‡

| å¸¸é‡å | ç±»å‹ | å€¼ | è¯´æ˜ |
|--------|------|-----|------|
| `PrefabPath` | `string` | `"UIGame/UIAuction/Prefabs/UISuccessAuction.prefab"` | é¢„åˆ¶ä½“è·¯å¾„ |

---

## ğŸ”§ æ–¹æ³•è¯´æ˜

### ç”Ÿå‘½å‘¨æœŸæ–¹æ³•

#### `OnCreate()`
ç»„ä»¶åˆ›å»ºæ—¶åˆå§‹åŒ–åŠ¨ç”»å’Œæ–‡æœ¬ç»„ä»¶ã€‚

#### `OnEnable()`
ç»„ä»¶å¯ç”¨æ—¶æ’­æ”¾æˆåŠŸåŠ¨ç”»ã€‚

#### `OnDisable()`
ç»„ä»¶ç¦ç”¨æ—¶çš„æ¸…ç†ï¼ˆå½“å‰ä¸ºç©ºå®ç°ï¼‰ã€‚

---

### ä¸šåŠ¡æ–¹æ³•

#### `PlaySuccessAnim()`
æ’­æ”¾ç«æ‹æˆåŠŸåŠ¨ç”»ã€‚

**åŠ¨ç”»æµç¨‹:**
1. éšè—æ–‡æœ¬
2. æ’­æ”¾çª—å£è¿›å…¥åŠ¨ç”»ï¼ˆ"SuccessAuction"ï¼‰
3. é€å­—æ˜¾ç¤ºæ–‡æœ¬ï¼ˆæ¯å­— 20msï¼‰
4. ç­‰å¾… 700msï¼ˆé˜…è¯»æ—¶é—´ï¼‰
5. æ’­æ”¾çª—å£å…³é—­åŠ¨ç”»ï¼ˆ"CloseAuction"ï¼‰
6. é€å­—éšè—æ–‡æœ¬ï¼ˆæ¯å­— 50msï¼‰
7. ç­‰å¾… 300ms
8. å…³é—­çª—å£

---

## ğŸ”„ æµç¨‹å›¾

```mermaid
flowchart TD
    A[OnEnable è°ƒç”¨] --> B[PlaySuccessAnim]
    B --> C[éšè—æ–‡æœ¬]
    C --> D[æ’­æ”¾è¿›å…¥åŠ¨ç”»]
    D --> E[é€å­—æ˜¾ç¤ºæ–‡æœ¬]
    E --> F[ç­‰å¾… 700ms]
    F --> G[æ’­æ”¾å…³é—­åŠ¨ç”»]
    G --> H[é€å­—éšè—æ–‡æœ¬]
    H --> I[ç­‰å¾… 300ms]
    I --> J[å…³é—­çª—å£]
```

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### æ’­æ”¾ç«æ‹æˆåŠŸåŠ¨ç”»

```csharp
// å½“ç©å®¶ç«æ‹æˆåŠŸæ—¶
if (IAuctionManager.Instance.LastAuctionPlayerId == PlayerDataManager.Instance.PlayerId)
{
    UIManager.Instance.OpenWindow<UISuccessAuction>(UISuccessAuction.PrefabPath);
}

// çª—å£ä¼šè‡ªåŠ¨ï¼š
// 1. æ’­æ”¾è¿›å…¥åŠ¨ç”»
// 2. é€å­—æ˜¾ç¤º"ç«æ‹æˆåŠŸ"
// 3. ç­‰å¾…é˜…è¯»æ—¶é—´
// 4. æ’­æ”¾å…³é—­åŠ¨ç”»
// 5. è‡ªåŠ¨å…³é—­
```

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [UIGameView.cs.md](./UIGameView.cs.md) - æ¸¸æˆä¸»ç•Œé¢
- [AuctionManager.cs.md](../../../System/Auction/AuctionManager.cs.md) - æ‹å–ç®¡ç†å™¨

---

*æœ€åæ›´æ–°ï¼š2026-03-02*
